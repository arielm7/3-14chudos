##Proyecto 2 Tobias Chavarria Ariel Mata
##PyFut

import pygame


class Player(pygame.sprite.Sprite):
    def __init__(self,image):
        self.image= image
        self.rect=self.image.get_rect()
        self.rect.top,self.rect.left= (100,200)
    def move(self,vx,vy):
        self.rect.move_ip(vx,vy)
    def update(self,surface):
        surface.blit(self.image,self.rect)

class mouse(pygame.Rect):                           ##Clase que genera un rectangulo en la pocision del mouse
        def _init_(self):
            pygameRect._init_(self,0,0,1,1)
        def update(self):
            self.left,self.top=pygame.mouse.get_pos()

class Boton(pygame.sprite.Sprite):
    def __init__(self,imagen1,x=200,y=200):
        self.imagen_select=imagen1
        self.rect=self.imagen_select.get_rect()
        self.rect.left,self.rect.top=(x,y)
        
    def update(self,pantalla,cursor):
        if cursor.colliderect(self.rect):
            self.imagen_actual=self.imagen_select
            pantalla.blit(self.imagen_actual,self.rect)
            return True
        else:
            pass

join= pygame.image.load("join1.png")
new= pygame.image.load("new1.png")
change= pygame.image.load("change1.png")

boton4=Boton(new,529,317)
boton5=Boton(change,48,162)
boton6=Boton(join,618,180)

class Window():
    def __init__(self,imagen,boton,x=0,y=0):
        self.fondo= imagen
        self.boton= boton
        self.coordx= x
        self.coordy=y
        
    def update(self,pantalla,cursor):

        if cursor.colliderect(self.boton) :
                
                #print("hola")
                #pantalla.blit(self.fondo,(self.coordx,self.coordy))
                return True
        

        
        
            


        


            

def rect (cord):                                                        ##Funcion que crea rectangulos para poder manejar los botones por colisiones
    rect=pygame.Rect(cord)
    return (rect)

rectTouch1= rect((145,112,220,40))
rectTouch2= rect((145,181,220,40))
rectTouch3= rect((145,251,220,40))
rectTouch6= rect((618,180,200,40))
rectTouch4= rect((529,317,220,40))
rectTouch6= rect((145,251,220,40))




class Input:
    def __init__(self):
        self.shift = False
    def Introducir(self):                
      while True:
         event = pygame.event.poll()
         if event.type == pygame.KEYDOWN:
          
            if event.key in [pygame.K_LSHIFT, pygame.K_RSHIFT]:
               self.shift = True
               continue
               
            if self.shift:
               
               if event.key >= 97 and event.key <= 122:
                  return event.key - 32
               elif event.key == 50:
                  return 64 
               elif event.key == 32:
                  return 32
                
            elif not self.shift:
               return event.key
         elif event.type == pygame.KEYUP:
            if event.key in [pygame.K_LSHIFT, pygame.K_RSHIFT]:
               self.shift = False
         else:

            pass


    def Caja(self, window, mensaje):
       letraFuente = pygame.font.Font(None, 50) ##Es para la fuente de la variable
       pygame.draw.rect(window, (192,192,192),(439,78,315,46))
       pygame.draw.rect(window, (0,0,0),(439,78,315,46),3)
       if len(mensaje) != 0:
           window.blit(letraFuente.render(mensaje, 1 , (0,0,0)),(442,81))
       pygame.display.update()##carga la caja

   
   
    def resultado(self, window, mensaje2):
      variables = []
      self.Caja(window, mensaje2 + ''.join(variables))
      while True:
         tecla = self.Introducir()
         if tecla == pygame.K_BACKSPACE:##Si la persona apreta Borrar
             variables= variables[0:-1]##Se elimina el ultimo digito
         elif tecla == pygame.K_0:
            var=False
            return var 
         else:
            variables.append(chr(tecla))
         self.Caja(window, mensaje2 + "".join(variables))
         pygame.display.flip()
      return ''.join(variables)


        
        

def main():
    pygame.init()
    pantalla=pygame.display.set_mode((900,500))
    reloj1=pygame.time.Clock()
    fondoMenu=pygame.image.load("fmessi.png")
    compe=pygame.image.load("competicion.png")
    football= pygame.image.load("football.png")
    training= pygame.image.load("training.png")
    wait= pygame.image.load("wait.png")
    playsign= pygame.image.load("playsign.JPG")
    load = pygame.image.load("load.gif")
    name= pygame.image.load("name.png")
    mouse1=mouse(0,0,0,0)
    boton1=Boton(compe,145,112)
    boton2=Boton(football,145,181)
    boton3=Boton(training,145,251)
  
    #ventana1= Window(playsign,rectTouch1,0,0)
    #ventana2= Window(wait,rectTouch1,0,0)
    ventana3= Window(name,rectTouch1,0,0)
    pant=True
    pant2=False
    pantallaMenu=False
    pantallaWait=False








    
    #image1= pygame.image.load()
    #player1= Player(image1)
    salir=False

    while salir!=True:
        
        for event in pygame.event.get():
            if event.type==pygame.QUIT:
                salir=True

            
                

            

        
        mouse1.update()


        if (ventana3.update(pantalla,mouse1) and event.type==pygame.MOUSEBUTTONDOWN) or pant2==True:
            pant=False
            pant2=True
            var1=True
            pantalla.blit(name,(0,0))
            rectName= rect((439,78,315,46))
            pygame.display.update()     
            while pant2==True: 
                    for event in pygame.event.get():
                        if event.type==pygame.QUIT:
                            pant2=False
                            salir=True
                        if mouse1.colliderect(rectName) and event.type== pygame.MOUSEBUTTONDOWN:
                            input_caja = Input()##llama al input para las variables
                            while var1!=False:
                                reloj1.tick(40)
                                var1 =int(input_caja.resultado(pantalla, ""))
                        if event.type==pygame.KEYDOWN and event.key== pygame.K_SPACE:
                            pantallaMenu=True
                            pant2=False  
                    mouse1.update()
                    reloj1.tick(40)
                    pygame.display.update()
                        
            
                   
                        
                    
                   

       
            
        if pantallaWait==True:
            pantalla.blit(wait,(0,0))
            
       
        if pantallaMenu==True:
            pantalla.blit(playsign,(0,0))
            boton4.update(pantalla,mouse1)
            boton5.update(pantalla,mouse1)
            boton6.update(pantalla,mouse1)
            if boton5.update(pantalla,mouse1) and event.type==pygame.MOUSEBUTTONDOWN:
                pant2=True
            if boton6.update(pantalla, mouse1) and event.type==pygame.MOUSEBUTTONDOWN:
                pantallaWait=True
                pantallaMenu=False   

        if pant!= False:
            pantalla.blit(fondoMenu,(0,0))
            boton1.update(pantalla,mouse1)
            boton3.update(pantalla,mouse1)
            boton2.update(pantalla,mouse1)
       
        reloj1.tick(30)
        pygame.display.update()
        










    pygame.quit()

main()

